@model ServicesCourse.Models.UserProfile

@{
    ViewData["Title"] = "Информация о пользователе";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Информация о пользователе</h1>

<div>
    <h4>@Html.DisplayFor(model => model.Login)</h4>
    <hr />
    <dl class="row">        
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.User.Login)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.User.Login)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.PhoneNumber)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.PhoneNumber)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Surname)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Surname)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Name)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Name)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Patronymic)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Patronymic)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.BirthDate)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.BirthDate)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Email)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Email)
        </dd>
    </dl>
</div>
<div>
    <a class="text-decoration-none" asp-action="Edit" asp-route-id="@Model.Login">Изменить</a> |
    <a class="text-decoration-none" asp-action="Index">Назад к списку</a>
</div>


<hr />
<div class="container">
<h3>Последние 5 посещений</h3>
    <table class="table table-striped">
     <thead class="thead-light">
         <tr>
             <th scope="col">Название сервиса</th>
             <th scope="col">Время посещения</th>
         </tr>
     </thead>
        @foreach (History record in Model.User.HistoryRecords.OrderBy(x => x.AccessTime).Take(5))
        {
            <tr>
                <td>@record.Service.ServiceName</td>
                <td>@record.AccessTime</td>
            </tr>
        }
    </table>
</div>